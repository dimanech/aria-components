(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,s){"use strict";s.r(t);class i{constructor(e,t){this.container=e,this.message=t.message,this.type=t.type,this.id=t.id,this.remainingTime=4e3,this.isPersistent=t.isPersistent}init(){this.createMessage(),this.addEventListeners(),this.isPersistent||this.autoHide(this.destroy.bind(this))}addEventListeners(){this.autoHidePause=this.autoHidePause.bind(this),this.autoHide=this.autoHide.bind(this),this.destroy=this.destroy.bind(this),this.isPersistent||(this.notificationNode.addEventListener("mouseover",this.autoHidePause),this.notificationNode.addEventListener("mouseout",this.autoHide)),this.notificationNode.addEventListener("mouseup",this.destroy)}createMessage(){switch(this.notificationNode=document.createElement("div"),this.notificationNode.setAttribute("role","alert"),this.notificationNode.innerText=this.message,this.type){case"error":this.notificationNode.className="b-notification m-error";break;case"warning":this.notificationNode.className="b-notification m-warning";break;case"success":this.notificationNode.className="b-notification m-success";break;default:this.notificationNode.className="b-notification m-info"}this.container.appendChild(this.notificationNode)}autoHide(){this.creationTime=Date.now(),this.hideTimer&&window.clearTimeout(this.hideTimer),this.hideTimer=window.setTimeout(()=>this.destroy(),this.remainingTime)}autoHidePause(){window.clearTimeout(this.hideTimer),this.remainingTime-=Date.now()-this.creationTime}destroy(){this.hideTimer&&window.clearTimeout(this.hideTimer),this.isPersistent||(this.notificationNode.removeEventListener("mouseover",this.autoHidePause),this.notificationNode.removeEventListener("mouseout",this.autoHide)),this.notificationNode.removeEventListener("mouseup",this.destroy),this.notificationNode.classList.add("m-removing"),this.notificationNode.dispatchEvent(new CustomEvent("notifier:notification:removed",{bubbles:!0,detail:{id:this.id}})),window.setTimeout(()=>this.notificationNode.remove(),400)}}function o(e){if(!function(e){if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return"hidden"!==e.type&&"file"!==e.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}(e))return!1;try{e.focus()}catch(e){}return document.activeElement===e}function n(e){for(let t=0;t<e.childNodes.length;t++){const s=e.childNodes[t];if(o(s)||n(s))return!0}return!1}function a(e){for(let t=e.childNodes.length-1;t>=0;t--){const s=e.childNodes[t];if(o(s)||a(s))return!0}return!1}class h{constructor(e,t,s,i){this.dialogManager=e,this.dialogNode=t,this.focusAfterClose=h.setFocusAfterCloseElement(s),this.focusAfterOpen=h.setFocusAfterOpenElement(i),this.isForcedToChoice=this.dialogNode.getAttribute("data-isForcedToChoice")||!1,this.forcedChoiceAlertMessage=this.dialogNode.getAttribute("data-forcedChoiceAlertMessage")||"Please make a choice in modal window",this.backdropNode=null,this.focusFirstDescendant=n,this.focusLastDescendant=a,this.handleFocus=this.handleFocus.bind(this),this.handleBackdropClick=this.handleBackdropClick.bind(this)}init(){this.initBackdrop(),this.createFocusTrap(),this.initEventListeners(),this.dialogNode.classList.add("is-open"),this.dialogNode.setAttribute("aria-hidden","false");const e=t=>{t&&t.target!==this.dialogNode||(clearTimeout(this.transitionEndFallbackTimeout),this.dialogNode.removeEventListener("transitionend",e),this.focusElementAfterOpen())};return this.dialogNode.addEventListener("transitionend",e),this.transitionEndFallbackTimeout=setTimeout(e,500),this.afterOpen(),!0}destroy(){return this.beforeClose(),this.removeEventListeners(),this.removeFocusTrap(),this.clearBackdropState(),this.dialogNode.classList.remove("is-open"),this.dialogNode.setAttribute("aria-hidden","true"),this.focusElementAfterClose(),!0}bringDown(){this.removeEventListeners(),this.backdropNode.classList.remove("is-top-dialog")}bringOnTop(){this.initEventListeners(),this.backdropNode.classList.add("is-top-dialog")}focusElementAfterOpen(){return this.focusAfterOpen?this.focusAfterOpen.focus():this.focusFirstDescendant(this.dialogNode)}focusElementAfterClose(){this.focusAfterClose.focus()}initEventListeners(){document.addEventListener("focus",this.handleFocus,!0)}removeEventListeners(){document.removeEventListener("focus",this.handleFocus,!0)}handleFocus(e){switch(!0){case e.target===this.boundFocusNodeStart:this.focusLastDescendant(this.dialogNode);break;case e.target===this.boundFocusNodeEnd:case!this.dialogNode.contains(e.target):this.focusFirstDescendant(this.dialogNode)}}createFocusTrap(){const e=document.createElement("div");e.tabIndex=0,this.backdropNode.insertBefore(e,this.dialogNode),this.boundFocusNodeStart=e;const t=document.createElement("div");t.tabIndex=0,this.backdropNode.insertBefore(t,this.dialogNode.nextSibling),this.boundFocusNodeEnd=t}removeFocusTrap(){this.backdropNode.removeChild(this.boundFocusNodeStart),this.backdropNode.removeChild(this.boundFocusNodeEnd)}clearBackdropState(){this.backdropNode.removeEventListener("click",this.handleBackdropClick),this.backdropNode.classList.remove("is-active"),this.backdropNode.classList.remove("is-top-dialog")}initBackdrop(){let e=this.dialogNode.parentNode;e.hasAttribute("data-elem-dialog-backdrop")?this.backdropNode=e:this.encloseModalWithBackdrop("data-elem-dialog-backdrop"),this.backdropNode.addEventListener("click",this.handleBackdropClick),this.backdropNode.classList.add("is-active"),this.backdropNode.classList.add("is-top-dialog")}encloseModalWithBackdrop(e){this.backdropNode=document.createElement("div"),this.backdropNode.setAttribute(e),this.dialogNode.parentNode.insertBefore(this.backdropNode,this.dialogNode),this.backdropNode.appendChild(this.dialogNode)}handleBackdropClick(e){e.target===this.backdropNode&&this.dialogManager.closeDialogFromOutside()}afterOpen(){}beforeClose(){}static setFocusAfterOpenElement(e){let t;return t="string"==typeof e?document.getElementById(e):"object"==typeof e?e:null,t}static setFocusAfterCloseElement(e=document.activeElement){let t;if("string"==typeof e)t=document.getElementById(e);else{if("object"!=typeof e)throw new Error("the focusAfterClosed parameter is required for the aria.Dialog constructor.");t=e}return t}}class r extends h{constructor(e,t,s,i){super(e,t,s,i),this.position=t.getAttribute("data-panel-position")}init(){return super.init(),this.addDragEventListeners(),!0}addDragEventListeners(){this.onTouchMove=this.onTouchMove.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDrugOverPanel=this.onDrugOverPanel.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.backdropNode.addEventListener("mousedown",this.onTouchStart),this.backdropNode.addEventListener("touchstart",this.onTouchStart,{passive:!0}),this.backdropNode.addEventListener("mouseup",this.onTouchEnd),this.backdropNode.addEventListener("touchend",this.onTouchEnd,{passive:!0}),this.backdropNode.addEventListener("dragstart",this.onDragStart)}removeDragEventListeners(){this.backdropNode.removeEventListener("mousedown",this.onTouchStart),this.backdropNode.removeEventListener("touchstart",this.onTouchStart),this.backdropNode.removeEventListener("mouseup",this.onTouchEnd),this.backdropNode.removeEventListener("touchend",this.onTouchEnd),this.backdropNode.removeEventListener("dragstart",this.onDragStart)}onTouchMove(e){const t=void 0!==e.touches?e.touches[0].pageX:e.clientX;this.deltaX=(this.initialX-t)/this.panelWidth*80,"right"===this.position&&this.deltaX<0?(this.dialogNode.style.transform="translateX("+-this.deltaX+"%)",document.documentElement.style.setProperty("--backdrop-opacity",1+this.deltaX/100)):"left"===this.position&&this.deltaX>0&&(this.dialogNode.style.transform="translateX("+this.deltaX+"%)",document.documentElement.style.setProperty("--backdrop-opacity",1-this.deltaX/100))}onTouchStart(){this.backdropNode.addEventListener("mouseover",this.onDrugOverPanel),this.backdropNode.addEventListener("mouseout",this.onMouseOut)}onDrugOverPanel(e){this.mouseOverPanel=!0,this.initialX=e.pageX||e.touches[0].pageX,this.panelWidth=this.dialogNode.clientWidth,this.deltaX=0,this.backdropNode.addEventListener("mousemove",this.onTouchMove),this.backdropNode.addEventListener("touchmove",this.onTouchMove),this.backdropNode.addEventListener("mouseleave",this.onTouchEnd),this.backdropNode.classList.add("m-grabbing")}onTouchEnd(){this.backdropNode.removeEventListener("mouseover",this.onDrugOverPanel),this.backdropNode.removeEventListener("mouseout",this.onMouseOut),this.backdropNode.removeEventListener("mousemove",this.onTouchMove),this.backdropNode.removeEventListener("touchmove",this.onTouchMove),this.backdropNode.removeEventListener("mouseleave",this.onTouchEnd),this.backdropNode.classList.remove("m-grabbing"),this.deltaX<=-50&&"right"===this.position?this.dialogManager.closeDialogFromOutside():this.deltaX>=50&&"left"===this.position&&this.dialogManager.closeDialogFromOutside(),setTimeout(()=>document.documentElement.style.setProperty("--backdrop-opacity",1),400),this.dialogNode.style=null,this.deltaX=0}onMouseOut(){this.mouseOverPanel=!1}onDragStart(e){e.preventDefault()}handleBackdropClick(e){this.mouseOverPanel||super.handleBackdropClick(e),this.mouseOverPanel=!1}destroy(){return this.removeDragEventListeners(),super.destroy()}}const d=Object.freeze({ESC:27});const l=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40});class c{constructor(e,t){this.domNode=e,this.menu=t,this.blurHandledByController=!1,this.timeout=20,this.cssClassNames={active:"_active"}}init(){this.domNode.tabIndex=-1,this.initEventListeners()}initEventListeners(){this.handleKeydown=this.handleKeydown.bind(this),this.handleClick=this.handleClick.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.domNode.addEventListener("keydown",this.handleKeydown),this.domNode.addEventListener("click",this.handleClick),this.domNode.addEventListener("focus",this.handleFocus),this.domNode.addEventListener("blur",this.handleBlur)}handleKeydown(e){let t=!1;switch(e.keyCode){case l.SPACE:case l.RETURN:this.handleKeyReturn(e),t=!0;break;case l.UP:this.menu.setFocusToPreviousItem(this),t=!0;break;case l.DOWN:this.menu.setFocusToNextItem(this),t=!0;break;case l.LEFT:this.handleKeyLeft(),t=!0;break;case l.RIGHT:this.handleKeyRight(),t=!0;break;case l.HOME:case l.PAGEUP:this.menu.setFocusToFirstItem(),t=!0;break;case l.END:case l.PAGEDOWN:this.menu.setFocusToLastItem(),t=!0;break;case l.ESC:case l.TAB:this.menu.setFocusToController(),t=!0}t&&(e.stopPropagation(),e.preventDefault())}handleKeyReturn(e){let t;"function"==typeof MouseEvent?t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}):document.createEvent&&(t=document.createEvent("MouseEvents"),t.initEvent("click",!0,!0)),e.currentTarget.dispatchEvent(t),e.currentTarget.classList.add(this.cssClassNames.active)}handleKeyRight(){this.blurHandledByController=!0,this.menu.setFocusToController("next")}handleKeyLeft(){this.blurHandledByController=!0,this.menu.setFocusToController("previous")}handleClick(){this.domNode.classList.add(this.cssClassNames.active)}handleFocus(){this.menu.hasFocus=!0}handleBlur(){this.menu.hasFocus=!1,this.domNode.tabIndex=-1,this.blurHandledByController||setTimeout(()=>this.menu.close(),this.timeout),this.blurHandledByController=!1}destroy(){this.domNode.tabIndex=0,this.domNode.removeEventListener("keydown",this.handleKeydown),this.domNode.removeEventListener("click",this.handleClick),this.domNode.removeEventListener("focus",this.handleFocus),this.domNode.removeEventListener("blur",this.handleBlur)}}class u{constructor(e,t){u.validateStructure(e),this.domNode=e,this.controller=t,this.menuitems=[],this.hasFocus=!1,this.hasHover=!1,this.firstItem=null,this.lastItem=null,this.mouseOutTimeout=30,this.cssClassNames={open:"_open"}}init(){this.initEventListeners(),this.initMenuItems(),this.initFirstAndLastElements()}initEventListeners(){this.handleMouseover=this.handleMouseover.bind(this),this.handleMouseout=this.handleMouseout.bind(this),this.domNode.addEventListener("mouseenter",this.handleMouseover),this.domNode.addEventListener("mouseleave",this.handleMouseout)}initMenuItems(){this.domNode.querySelectorAll('[role="menuitem"]').forEach(e=>{const t=new c(e,this);t.init(),this.menuitems.push(t)})}initFirstAndLastElements(){const e=this.menuitems.length;e>0&&(this.firstItem=this.menuitems[0],this.lastItem=this.menuitems[e-1])}handleMouseover(){this.hasHover=!0}handleMouseout(){this.hasHover=!1,this.timeout=setTimeout(this.close.bind(this),this.mouseOutTimeout)}setFocusToController(e){const t="string"!=typeof e?"":e;""!==t?this.controller.isMenubarItem&&("previous"===t&&this.controller.menuBar.setFocusToPreviousItem(this.controller),"next"===t&&this.controller.menuBar.setFocusToNextItem(this.controller)):this.controller&&this.controller.domNode&&this.controller.domNode.focus()}setFocusToItem(e){e.domNode.tabIndex=0,e.domNode.focus()}setFocusToFirstItem(){this.setFocusToItem(this.firstItem)}setFocusToLastItem(){this.setFocusToItem(this.lastItem)}setFocusToPreviousItem(e){const t=e===this.firstItem?this.lastItem:this.menuitems[this.getItemIndex(e)-1];this.setFocusToItem(t)}setFocusToNextItem(e){const t=e===this.lastItem?this.firstItem:this.menuitems[this.getItemIndex(e)+1];this.setFocusToItem(t)}getItemIndex(e){return this.menuitems.indexOf(e)}open(){return this.togglePopup(!0),!0}close(e){if(e)return this.togglePopup(!1),!0;const t=this.hasFocus||this.menuitems.some(e=>e.popupMenu&&e.popupMenu.hasFocus),s=!!this.controller.isMenubarItem&&this.controller.hasHover;return!(t||this.hasHover||s)&&(this.togglePopup(!1),!0)}togglePopup(e){this.domNode.classList.toggle(this.cssClassNames.open,e),this.domNode.setAttribute("aria-hidden",!e),this.controller.setExpanded(e)}destroy(){this.domNode.removeEventListener("mouseenter",this.handleMouseover),this.domNode.removeEventListener("mouseleave",this.handleMouseout),this.close(!0),clearTimeout(this.timeout),this.menuitems.forEach(e=>e.destroy())}static validateStructure(e){const t="PopupMenu constructor argument domNode ";if(!(e instanceof Element))throw new TypeError(`${t} is not a DOM Element.`);if(0===e.childElementCount)throw new Error(`${t} has no element children.`);let s=e.firstElementChild;for(;s;){const e=s.firstElementChild;if(e&&"A"===e)throw new Error(`${t} has descendant elements that are not A elements.`);s=s.nextElementSibling}}}const m=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40});class p{constructor(e,t){this.isMenubarItem=!0,this.menuBar=t,this.domNode=e,this.wrapper=this.domNode.parentNode,this.popupMenu=null,this.hasFocus=!1,this.hasHover=!1,this.isPopUpExpanded=!1,this.mouseOutTimeout=30,this.cssClassNames={hover:"_hover"}}init(){this.domNode.tabIndex=-1,this.initEventListeners();const e=this.domNode.nextElementSibling;e&&e.hasAttribute("role","menu")&&(this.popupMenu=new u(e,this),this.popupMenu.init())}initEventListeners(){this.handleKeydown=this.handleKeydown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleMouseover=this.handleMouseover.bind(this),this.handleMouseout=this.handleMouseout.bind(this),this.domNode.addEventListener("keydown",this.handleKeydown),this.domNode.addEventListener("focus",this.handleFocus),this.domNode.addEventListener("blur",this.handleBlur),this.wrapper.addEventListener("mouseenter",this.handleMouseover),this.wrapper.addEventListener("mouseleave",this.handleMouseout)}handleKeydown(e){let t=!1;switch(e.keyCode){case m.SPACE:case m.RETURN:case m.DOWN:this.popupMenu&&(this.popupMenu.open(),this.popupMenu.setFocusToFirstItem(),t=!0);break;case m.LEFT:this.menuBar.setFocusToPreviousItem(this),t=!0;break;case m.RIGHT:this.menuBar.setFocusToNextItem(this),t=!0;break;case m.UP:this.popupMenu&&(this.popupMenu.open(),this.popupMenu.setFocusToLastItem(),t=!0);break;case m.HOME:case m.PAGEUP:this.menuBar.setFocusToFirstItem(),t=!0;break;case m.END:case m.PAGEDOWN:this.menuBar.setFocusToLastItem(),t=!0;break;case m.TAB:case m.ESC:this.popupMenu&&this.popupMenu.close(!0)}t&&(e.stopPropagation(),e.preventDefault())}setExpanded(e){if(this.domNode.setAttribute("aria-expanded",e),this.isPopUpExpanded=e,e){const e=this.popupMenu.domNode.clientHeight;this.menuBar.toggleFlyout(e)}else this.menuBar.toggleFlyout(0)}handleFocus(){this.menuBar.hasFocus=!0}handleBlur(){this.menuBar.hasFocus=!1}handleMouseover(){this.hasHover||(this.hasHover=!0,this.menuBar.hasHover&&this.popupMenu&&setTimeout(()=>this.popupMenu.open(),this.mouseOutTimeout),this.menuBar.hasHover&&this.domNode.classList.add(this.cssClassNames.hover))}handleMouseout(){this.hasHover=!1,this.popupMenu&&setTimeout(()=>this.popupMenu.close(),this.mouseOutTimeout),this.domNode.classList.remove(this.cssClassNames.hover)}destroy(){this.domNode.removeEventListener("keydown",this.handleKeydown),this.domNode.removeEventListener("focus",this.handleFocus),this.domNode.removeEventListener("blur",this.handleBlur),this.domNode.removeEventListener("mouseenter",this.handleMouseover),this.domNode.removeEventListener("mouseleave",this.handleMouseout),this.popupMenu&&this.popupMenu.destroy()}}class v{constructor(e){v.validateStructure(e),this.domNode=e,this.menubarItems=[],this.firstItem=null,this.lastItem=null,this.hasFocus=!1,this.hasHover=!1,this.activationDelay=500,this.flyout=this.domNode.querySelector("[data-elem-menu-flyout-pane]"),this.cssClassNames={hover:"_hover"}}init(){this.setUpMenuItems(),this.menubarItems.length<=0||(this.initEventListeners(),this.setFirstAndLastItems(),this.firstItem.domNode.tabIndex=0)}setUpMenuItems(){let e=this.domNode.firstElementChild;for(;e;){const t=e.firstElementChild;if(e&&t&&"A"===t.tagName){const e=new p(t,this);e.init(),this.menubarItems.push(e)}e=e.nextElementSibling}}setFirstAndLastItems(){const e=this.menubarItems.length;this.firstItem=this.menubarItems[0],this.lastItem=this.menubarItems[e-1]}initEventListeners(){this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.domNode.addEventListener("mouseenter",this.handleMouseEnter),this.domNode.addEventListener("mouseleave",this.handleMouseLeave)}handleMouseEnter(){this.timeout=setTimeout(()=>{this.hasHover=!0,this.menubarItems.forEach(e=>{e.hasHover&&e.domNode.classList.add(this.cssClassNames.hover),e.hasHover&&e.popupMenu&&e.popupMenu.open()})},this.activationDelay)}handleMouseLeave(){clearTimeout(this.timeout),this.hasHover=!1}setFocusToItem(e){let t=!1;this.menubarItems.forEach(e=>{e.isPopUpExpanded&&(t=!0),e.domNode.tabIndex=-1,e.popupMenu&&e.popupMenu.close(!0)}),e.domNode.focus(),e.domNode.tabIndex=0,t&&e.popupMenu&&e.popupMenu.open()}setFocusToFirstItem(){this.setFocusToItem(this.firstItem)}setFocusToLastItem(){this.setFocusToItem(this.lastItem)}setFocusToPreviousItem(e){const t=e===this.firstItem?this.lastItem:this.menubarItems[this.getElementIndex(e)-1];this.setFocusToItem(t)}setFocusToNextItem(e){const t=e===this.lastItem?this.firstItem:this.menubarItems[this.getElementIndex(e)+1];this.setFocusToItem(t)}getElementIndex(e){return this.menubarItems.indexOf(e)}toggleFlyout(e){const t=this.flyout.style;if(0===e)t.opacity=0,t.height="10vh",t.visibility="hidden";else{clearTimeout(this.flyoutTimer);const s=window.scrollY?window.scrollY:window.pageYOffset;t.top=`${parseInt(this.domNode.getBoundingClientRect().bottom+s,10)}px`,t.opacity=1,t.height=`${e+4}px`,t.visibility="visible"}}destroy(){this.domNode.removeEventListener("mouseenter",this.handleMouseEnter),this.domNode.removeEventListener("mouseleave",this.handleMouseLeave),clearTimeout(this.timeout),this.menubarItems.forEach(e=>{e.domNode.tabIndex=0,e.destroy()})}initRoles(){this.domNode.setAttribute("role","menubar"),this.domNode.childs.forEach(e=>{"LI"===e.tagName&&e.setAttribute("role","none"),"A"===e.tagName&&(e.setAttribute("role","menuitem"),e.setAttribute("tabindex",0))})}static validateStructure(e){const t="Menubar constructor argument menubarNode ";if(!(e instanceof Element))throw new TypeError(`${t} is not a DOM Element.`);if(0===e.childElementCount)throw new Error(`${t} has no element children.`);let s=e.firstElementChild;for(;s;){const e=s.firstElementChild;if(s&&e&&"A"!==e.tagName)throw new Error(`${t} has child elements are not A elements.`);s=s.nextElementSibling}}}class b{constructor(e){this.domeNode=e,this.backBtn=this.domeNode.querySelector("[data-elem-nav-back]"),this.trackCurrentLevel=0,this.activePanels=[],this.forward=this.forward.bind(this),this.back=this.back.bind(this)}init(){this.initEventListeners()}initEventListeners(){this.resetHamburgerState=this.resetHamburgerState.bind(this);const e=document.getElementById("hamburger-menu");this.domeNode.addEventListener("click",this.forward),this.backBtn.addEventListener("click",this.back),e.addEventListener("dialog:closed",this.resetHamburgerState)}forward(e){let t=e.target;"A"===t.parentElement.tagName&&(t=t.parentElement),t.hasAttribute("data-elem-nav-to")&&t.nextElementSibling&&t.nextElementSibling.hasAttribute("data-elem-nav-flyout")&&(e.preventDefault(),this.moveTrackTo(parseInt(t.getAttribute("data-elem-nav-to"),10)),this.activatePanel(t))}back(e){e.preventDefault(),this.trackCurrentLevel>0&&this.moveTrackTo(9!==this.trackCurrentLevel?this.trackCurrentLevel-1:0)}moveTrackTo(e){const t=this.domeNode.classList;t.remove(`m-active_level_${this.trackCurrentLevel}`),t.add(`m-active_level_${e}`),this.trackCurrentLevel=e,this.domeNode.scrollTop=0,this.toggleBackButton()}activatePanel(e){const t=e.nextElementSibling;this.activePanels[this.trackCurrentLevel]&&this.activePanels[this.trackCurrentLevel].classList.remove("m-active"),t.classList.add("m-active"),this.activePanels[this.trackCurrentLevel]=t}toggleBackButton(){const e=this.backBtn.classList;0===this.trackCurrentLevel||9===this.trackCurrentLevel?e.remove("m-activated"):e.add("m-activated")}resetHamburgerState(){this.timeout=setTimeout(()=>{this.resetClasses(),this.currentLevel=0,this.openedPanel=null},400)}resetClasses(){this.domeNode.classList.remove(`m-active_level_${this.trackCurrentLevel}`),this.activePanels.forEach(e=>e.classList.remove("m-active"))}destroy(){this.domeNode.removeEventListener("click",this.forward),this.backBtn.removeEventListener("click",this.back),clearTimeout(this.timeout),document.body.removeEventListener("hamburger:close",this.resetHamburgerState),this.resetClasses()}}let g,E=[];const f=767,y=1024;function L(e){E.push(e),window.addEventListener("resize",()=>{const e=function(){let e;switch(!0){case window.innerWidth<f:e="small";break;case window.innerWidth>=f&&window.innerWidth<y:e="medium";break;case window.innerWidth>=y:e="large"}return e}();e!==g&&(g=e,E.forEach(e=>e()))})}class k{constructor(e,t,s){this.desktopComponent=s,this.mobileComponent=e,this.breakpoint=t,this.desktopComponentInited=!1,this.mobileComponentInited=!1,this.init()}init(){window.innerWidth>=this.breakpoint?this.initDesktopComponent():this.initMobileComponent(),this.addEventListeners()}initDesktopComponent(){this.desktopComponent.init(),this.desktopComponentInited=!0}initMobileComponent(){this.mobileComponent.init(),this.mobileComponentInited=!0}toggleComponents(){window.innerWidth>=this.breakpoint?(this.mobileComponentInited&&(this.mobileComponent.destroy(),this.mobileComponentInited=!1),this.desktopComponentInited||this.initDesktopComponent()):(this.desktopComponentInited&&(this.desktopComponent.destroy(),this.desktopComponentInited=!1),this.mobileComponentInited||this.initMobileComponent())}addEventListeners(){L(this.toggleComponents.bind(this))}destroy(){this.desktopComponentInited&&this.desktopComponent.destroy(),this.mobileComponentInited&&this.mobileComponent.destroy()}}const N=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40});const C=Object.freeze({RETURN:13,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40});class T{constructor(e){this.tablist=e,this.tabs=Array.from(this.tablist.querySelectorAll("[role=tab]")),this.selectedTab=null,this.selectionFollowFocus=!this.hasFalseValue(this.tablist.getAttribute("data-selection-follow-focus")),this.orientation=this.tablist.getAttribute("aria-orientation")||"horizontal",this.preSelectTab=this.tablist.getAttribute("[aria-selected=true]")}init(){this.addEventListeners(),this.addComponentReference(),this.preSelectTab&&document.getElementById(this.preSelectTab)?this.selectTab(this.getButtonIndex(document.getElementById(this.preSelectTab))):this.selectTab(this.tabs[0])}destroy(){this.removeEventListeners(),this.removeComponentReference()}addEventListeners(){this.handleClick=this.handleClick.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.tabs.forEach(e=>{e.addEventListener("click",this.handleClick),e.addEventListener("keydown",this.handleKeydown)})}removeEventListeners(){this.tabs.forEach(e=>{e.removeEventListener("click",this.handleClick),e.removeEventListener("keydown",this.handleKeydown)})}addComponentReference(){this.tablist.widget=this}removeComponentReference(){delete this.tablist.widget}handleClick(e){e.preventDefault(),this.selectTab(e.target)}selectTab(e){if(!e)return;"true"===e.getAttribute("aria-selected")||(T.closeTab(this.selectedTab),T.openTab(e),this.selectedTab=e,this.focusedTab=e)}static closeTab(e){if(!e)return;e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1"),e.classList.remove("m-selected");const t=document.getElementById(e.getAttribute("aria-controls"));t&&(t.setAttribute("aria-hidden","true"),t.removeAttribute("tabindex"),e.dispatchEvent(new CustomEvent("tab:closed",{bubbles:!0,cancelable:!0})))}static openTab(e){if(!e)return;e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0"),e.classList.add("m-selected");const t=document.getElementById(e.getAttribute("aria-controls"));t&&(t.setAttribute("aria-hidden","false"),t.setAttribute("tabindex",0),e.dispatchEvent(new CustomEvent("tab:open",{bubbles:!0,cancelable:!0})))}addTab(){}removeTab(){}handleKeydown(e){let t=!1;switch(e.keyCode){case C.SPACE:case C.RETURN:this.handleClick(e);break;case C.RIGHT:case C.DOWN:this.focusButtonByIndex(this.getButtonIndex(e.target)+1),t=!0;break;case C.LEFT:case C.UP:this.focusButtonByIndex(this.getButtonIndex(e.target)-1),t=!0;break;case C.HOME:this.focusButtonByIndex(0),t=!0;break;case C.END:this.focusButtonByIndex(-1),t=!0}this.selectionFollowFocus&&this.selectTab(this.focusedTab),t&&(e.stopPropagation(),e.preventDefault())}getButtonIndex(e){const t=this.tabs.indexOf(e);return-1===t?0:t}focusButtonByIndex(e){const t=this.tabs.length;let s;s=e<0?t-1:e%t,this.focusedTab=this.tabs[s],this.tabs[s].focus()}hasFalseValue(e){return null!==e&&"false"===e}}const I=Object.freeze({RETURN:13,SPACE:32,END:35,HOME:36,UP:38,DOWN:40});class w{constructor(e){this.group=e,this.buttons=Array.from(this.group.querySelectorAll("[aria-controls]")),this.allowToggle=this.isAttributeSet(this.group.getAttribute("data-allow-toggle")),this.allowMultiple=this.isAttributeSet(this.group.getAttribute("data-allow-multiple")),this.keyCode=I}init(){this.addEventListeners()}destroy(){this.removeEventListeners()}addEventListeners(){this.handleClick=this.handleClick.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.handleKeyup=this.handleKeyup.bind(this),this.buttons.forEach(e=>{e.addEventListener("click",this.handleClick),e.addEventListener("keydown",this.handleKeydown),e.addEventListener("keyup",this.handleKeyup)})}removeEventListeners(){this.buttons.forEach(e=>{e.removeEventListener("click",this.handleClick),e.removeEventListener("keydown",this.handleKeydown),e.removeEventListener("keyup",this.handleKeyup)})}handleClick(e){e.preventDefault(),this.toggleSection(e.target)}toggleSection(e){const t="true"===e.getAttribute("aria-expanded");this.allowMultiple||this.buttons.forEach(e=>w.closeSection(e)),(this.allowToggle||this.allowMultiple)&&t?w.closeSection(e):w.openSection(e)}static closeSection(e){e.setAttribute("aria-expanded","false"),e.classList.remove("m-expanded");const t=document.getElementById(e.getAttribute("aria-controls"));t&&(t.setAttribute("aria-hidden","true"),t.classList.remove("m-expanded"))}static openSection(e){e.setAttribute("aria-expanded","true"),e.classList.add("m-expanded");const t=document.getElementById(e.getAttribute("aria-controls"));t&&(t.setAttribute("aria-hidden","false"),t.classList.add("m-expanded"))}handleKeydown(e){let t=!1;switch(e.keyCode){case this.keyCode.SPACE:case this.keyCode.RETURN:this.handleClick(e),t=!0;break;case this.keyCode.DOWN:this.focusButtonByIndex(this.getButtonIndex(e.target)+1),t=!0;break;case this.keyCode.UP:this.focusButtonByIndex(this.getButtonIndex(e.target)-1),t=!0;break;case this.keyCode.HOME:this.focusButtonByIndex(0),t=!0;break;case this.keyCode.END:this.focusButtonByIndex(-1),t=!0}t&&(e.stopPropagation(),e.preventDefault())}handleKeyup(e){const t=e.keyCode;t!==this.keyCode.SPACE&&t!==this.keyCode.RETURN||e.preventDefault()}getButtonIndex(e){const t=this.buttons.indexOf(e);return-1===t?0:t}focusButtonByIndex(e){const t=this.buttons.length;let s;s=e<0?t-1:e%t,this.buttons[s].focus()}isAttributeSet(e){return""===e||"true"===e}}const A=Object.freeze({RETURN:13,SPACE:32});const x=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8});t.default=[["MainMenu",class{constructor(e){this.menuList=document.querySelector("[data-elem-nav]"),this.menuBar=document.querySelector("[data-elem-menu-bar]")}init(){this.menuList&&this.menuBar&&(this.composer=new k(new b(this.menuList),767,new v(this.menuBar)))}destroy(){this.composer&&this.composer.destroy()}}],["Popup",class{constructor(e){this.domNode=e,this.popupMenu=!1,this.isMenubarItem=!1,this.hasFocus=!1,this.hasHover=!1,this.timeout=90}init(){this.initEventListeners();const e=document.getElementById(this.domNode.getAttribute("aria-controls"));this.popupMenu=new u(e,this),this.popupMenu.init(),this.setPopupPosition()}initEventListeners(){this.handleKeydown=this.handleKeydown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleMouseenter=this.handleMouseenter.bind(this),this.handleMouseleave=this.handleMouseleave.bind(this),this.domNode.addEventListener("keydown",this.handleKeydown),this.domNode.addEventListener("focus",this.handleFocus),this.domNode.addEventListener("blur",this.handleBlur),this.domNode.addEventListener("mouseenter",this.handleMouseenter),this.domNode.addEventListener("mouseleave",this.handleMouseleave)}setExpanded(e){this.domNode.setAttribute("aria-expanded",e.toString())}setPopupPosition(){const e=this.domNode.offsetTop+this.domNode.clientHeight,t=this.domNode.offsetLeft+this.domNode.clientWidth/2;this.popupMenu.domNode.style.top=`${e+14}px`,this.popupMenu.domNode.querySelector(".popup-menu__tail").style.left=`${t}px`}handleKeydown(e){let t=!1;switch(e.keyCode){case N.SPACE:case N.RETURN:case N.DOWN:this.popupMenu.open(),this.popupMenu.setFocusToFirstItem(),t=!0;break;case N.UP:this.popupMenu.open(),this.popupMenu.setFocusToLastItem(),t=!0;break;case N.TAB:case N.ESC:this.popupMenu.close(!0)}t&&(e.stopPropagation(),e.preventDefault())}handleMouseenter(){this.hasHover=!0,this.popupMenu.open(),this.setPopupPosition()}handleMouseleave(){this.hasHover=!1;this.timeout=setTimeout(()=>{this.popupMenu.hasHover||this.popupMenu.close()},this.timeout)}handleFocus(){this.hasFocus=!0}handleBlur(){this.hasFocus=!1;this.timeout=setTimeout(()=>{this.popupMenu.hasFocus||this.popupMenu.close()},this.timeout)}destroy(){this.domNode.removeEventListener("mouseenter",this.handleMouseenter),this.domNode.removeEventListener("mouseleave",this.handleMouseleave),this.domNode.removeEventListener("keydown",this.handleKeydown),this.domNode.removeEventListener("focus",this.handleFocus),this.domNode.removeEventListener("blur",this.handleBlur),clearTimeout(this.timeout),this.popupMenu.destroy()}}],["SearchCombobox",class extends class{constructor(e,t){this.combobox=e,this.input=this.combobox.querySelector("input[aria-autocomplete]"),this.listbox=document.getElementById(this.input.getAttribute("aria-controls")),this.minChars=3,this.focusedItemClassName="m-focused",this.suggetionsUpdateDelay=400,this.lastSearchedTerm="",this.activeIndex=-1,this.resultsCount=0,this.isListboxOpen=!1}init(){this.initEventListeners()}initEventListeners(){this.handleOuterClick=this.handleOuterClick.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleClick=this.handleClick.bind(this),this.handleInput=this.handleInput.bind(this),this.handleMouseenter=this.handleMouseenter.bind(this),this.handleMouseleave=this.handleMouseleave.bind(this),document.body.addEventListener("click",this.handleOuterClick),this.input.addEventListener("keydown",this.handleKeydown),this.input.addEventListener("focus",this.handleFocus),this.input.addEventListener("blur",this.handleBlur),this.input.addEventListener("input",this.handleInput),this.listbox.addEventListener("click",this.handleClick),this.listbox.addEventListener("mouseenter",this.handleMouseenter),this.listbox.addEventListener("mouseleave",this.handleMouseleave)}handleInput(){this.input.value.length>=this.minChars?this.updateListbox():(clearTimeout(this.timeout),this.closeListbox())}handleClick(e){e.target&&"DIV"===e.target.nodeName&&this.selectItem(e.target)}handleMouseenter(){this.hasHoverWithin=!0}handleMouseleave(){this.hasHoverWithin=!1}handleFocus(){this.updateListbox()}handleBlur(){this.hasHoverWithin||this.activeIndex<0||this.selectItem(this.getItemByIndex(this.activeIndex))}handleOuterClick(e){this.isListboxOpen&&!this.combobox.contains(e.target)&&this.closeListbox()}handleKeydown(e){let t=!1;switch(e.keyCode){case x.ESC:this.closeListbox(),this.input.value="",t=!0;break;case x.UP:this.setActiveToNextItem(),this.activateItem(),t=!0;break;case x.DOWN:this.setActiveToPreviousItem(),this.activateItem(),t=!0;break;case x.RETURN:return void this.selectItem(this.getItemByIndex(this.activeIndex));case x.TAB:return void this.closeListbox();default:return}t&&(e.stopPropagation(),e.preventDefault())}setActiveToPreviousItem(){-1===this.activeIndex||this.activeIndex>=this.resultsCount-1?this.activeIndex=0:this.activeIndex++}setActiveToNextItem(){this.activeIndex<=0?this.activeIndex=this.resultsCount-1:this.activeIndex--}activateItem(){this.activeItem=this.getItemByIndex(this.activeIndex),this.prevActive&&(this.prevActive.classList.remove(this.focusedItemClassName),this.prevActive.setAttribute("aria-selected","false")),this.activeItem?(this.input.setAttribute("aria-activedescendant",`result-item-${this.activeIndex}`),this.activeItem.classList.add(this.focusedItemClassName),this.activeItem.setAttribute("aria-selected","true"),this.afterItemActivated(this.activeItem)):this.input.setAttribute("aria-activedescendant",""),this.prevActive=this.activeItem}afterItemActivated(e){this.input.value=e.innerText}getItemByIndex(e){return document.getElementById(`result-item-${e}`)}selectItem(e){e&&(this.input.value=e.innerText,this.closeListbox())}updateListbox(){if(this.lastSearchedTerm===this.input.value||this.input.value.length<this.minChars)return;clearTimeout(this.timeout);const e=this.input.value;this.timeout=setTimeout(this.getSuggestions.bind(this,e),this.suggetionsUpdateDelay)}getSuggestions(e){const t=["Result example"];this.closeListbox(),t.length&&(this.listbox.innerHTML=`<li role="option" id="result-item-0">${t[0]}</li>\n                                      <li role="status" aria-live="polite">1 suggestion found</li>`,this.afterSuggestionsUpdate(e,t.length))}afterSuggestionsUpdate(e,t){this.resultsCount=t,this.activeIndex=-1,this.lastSearchedTerm=e,this.openListbox()}openListbox(){this.isListboxOpen=!0,this.listbox.classList.add("m-active"),this.combobox.setAttribute("aria-expanded","true"),this.toggleOverlay(!0)}closeListbox(){this.isListboxOpen=!1,this.resultsCount=0,this.activeIndex=-1,this.lastSearchedTerm="",this.listbox.classList.remove("m-active"),this.listbox.innerHTML="",this.input.setAttribute("aria-activedescendant",""),this.combobox.setAttribute("aria-expanded","false"),this.toggleOverlay(!1)}toggleOverlay(e){this.isOverlayVisible=e}destroy(){clearTimeout(this.timeout),document.body.removeEventListener("click",this.handleOuterClick),this.input.removeEventListener("keydown",this.handleKeydown),this.input.removeEventListener("focus",this.handleFocus),this.input.removeEventListener("blur",this.handleBlur),this.input.removeEventListener("input",this.handleInput),this.listbox.removeEventListener("click",this.handleClick),this.listbox.removeEventListener("mouseenter",this.handleMouseenter),this.listbox.removeEventListener("mouseleave",this.handleMouseleave)}}{constructor(e,t){super(e,t),this.suggestionsOvelay=document.querySelector("[data-elem-suggestions-overlay]"),this.endpoint=this.listbox.getAttribute("data-url"),this.setupXHR()}setupXHR(){const e=()=>this.toggleSpinner(!1);this.request=new XMLHttpRequest,this.request.addEventListener("error",e),this.request.addEventListener("abort",e),this.request.addEventListener("timeout",e)}processResponse(e,t){try{JSON.parse(t),this.toggleSpinner(!1),this.closeListbox()}catch(s){if(document.activeElement!==this.input||this.input.value!==e)return this.toggleSpinner(!1),void this.closeListbox();this.listbox.innerHTML=t,this.activeIndex=-1,this.input.setAttribute("aria-activedescendant","");const i=this.listbox.querySelector("#search-result-count").getAttribute("data-total");this.toggleSpinner(!1),this.afterSuggestionsUpdate(e,parseInt(i,10))}}getSuggestions(e){this.request.abort(),this.request.open("GET",this.endpoint),this.request.onreadystatechange=t=>{4===t.target.readyState&&(200===t.target.status?this.processResponse(e,t.target.responseText):(this.toggleSpinner(!1),this.closeListbox()))},this.request.send(),this.toggleSpinner(!0)}selectItem(e){if(e){const t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});e.dispatchEvent(t)}}handleClick(){}handleFocus(){this.updateListbox()}handleBlur(){if(this.hasHoverWithin||this.activeIndex>0)return;this.closeListbox();this.timeout=setTimeout(()=>{this.input.value=""},150)}toggleOverlay(e){const t=this.suggestionsOvelay.style;if(this.flyoutMinHeight=this.suggestionsOvelay.offsetParent?this.suggestionsOvelay.offsetParent.clientHeight:this.flyoutMinHeight,e){const e=4,s=this.listbox.firstElementChild?this.listbox.firstElementChild.clientHeight:30;t.opacity=1,t.visibility="visible",t.height=`${s+e+this.flyoutMinHeight}px`,this.toggleGlobalOverlay(!0)}else t.opacity=0,t.visibility="hidden",t.height=`${this.flyoutMinHeight}px`,this.toggleGlobalOverlay(!1)}toggleGlobalOverlay(e){}toggleSpinner(e){const t=this.listbox.firstElementChild;e?(t&&t.setAttribute("aria-busy","true"),this.toggleOverlay(!0)):(t&&t.setAttribute("aria-busy","false"),this.toggleOverlay(!1))}afterItemActivated(e){const t=this.listbox.querySelector("[data-elem-combo-listbox-content]");"function"==typeof t.scrollTo&&t.scrollTo({top:e.offsetTop,left:0,behavior:"smooth"})}destroy(){super.destroy(),clearTimeout(this.timeout)}}],["NotificationsManager",class{constructor(e,t){this.notificationsContainer=e,this.notificationsStack=[]}init(){this.addEventListeners()}addEventListeners(){this.notify=this.notify.bind(this),this.removeHandler=this.removeHandler.bind(this),this.hideHandler=this.hideHandler.bind(this),document.body.addEventListener("notifier:notify",this.notify),document.body.addEventListener("notifier:hide",this.hideHandler),this.notificationsContainer.addEventListener("notifier:notification:removed",this.removeHandler)}notify(e){if(!e.detail||!e.detail.message)return void console.warn(e.target+" send event. But message is missed! Notification not showed");const t=e.detail.id?"n-"+e.detail.id:"n-"+this.notificationsStack.length,s={message:e.detail.message,type:e.detail.type,id:t,isPersistent:e.detail.isPersistent||!1},o=new i(this.notificationsContainer,s);o.init(),this.notificationsStack.push({id:t,notification:o})}hide(e){e?this.notificationsStack.forEach((t,s)=>{t.id==="n-"+e&&(t.notification.destroy(),this.notificationsStack.splice(s,1))}):console.warn("Notification hide is called, but no ID is provided. Nothing to hide.")}hideLast(){this.notificationsStack[this.notificationsStack.length].notification.destroy(),this.notificationsStack.pop()}hideFirst(){this.notificationsStack[0].notification.destroy(),this.notificationsStack.shift()}hideAll(){this.notificationsStack.forEach(e=>e.notification.destroy()),this.notificationsStack=[]}removeHandler(e){e.stopPropagation(),this.notificationsStack.forEach((t,s)=>{t.id===e.detail.id&&this.notificationsStack.splice(s,1)})}hideHandler(e){e.stopPropagation(),this.hide(e.detail.id)}destroy(){this.notificationsStack=[],this.notificationsContainer.removeEventListener("notifier:notification:removed",this.removeHandler),document.body.removeEventListener("notifier:hide",this.hideHandler),document.body.removeEventListener("notifier:notify",this.notify)}}],["DialogManager",class{constructor(){this.dialogsStack=[]}init(){this.addEventListeners()}addEventListeners(){this._handleOpenFromEvent=this._handleOpenFromEvent.bind(this),document.addEventListener("dialogManager:open",this._handleOpenFromEvent)}openDialog(e,t,s,i){const o=document.getElementById(t);if(!this.isDialogInStack(o)&&o&&(this.dialogsStack.length>0?this._bringCurrentDialogDown():this._addDialogEventListeners(),this._createDialog(e,o,s,i))){document.body.classList.add("has-dialog");const e=new Event("dialog:open");o.dispatchEvent(e)}}closeDialog(){const e=this._getCurrentDialog();if(!e)return!1;const t=e;this._destroyCurrentDialog();const s=new Event("dialog:closed");return t.dialogNode.dispatchEvent(s),this.dialogsStack.length>0?this._bringCurrentDialogToTop():(document.body.classList.remove("has-dialog"),this._removeDialogEventListeners()),!0}closeAll(){const e=this.dialogsStack.length;for(let t=0;t<e;t++)this.closeDialog();return!0}closeDialogFromOutside(){const e=this._getCurrentDialog();return!!e&&(e.isForcedToChoice?(this._createAlert(e,e.forcedChoiceAlertMessage),!1):this.closeDialog())}replaceDialog(e,t,s,i){if(this.isDialogInStack(document.querySelector(t)))return;const o=this._getCurrentDialog(),n=s||o.focusAfterClose;return this._destroyCurrentDialog(),this.openDialog(e,t,n,i)}isDialogInStack(e){return this.dialogsStack.some(t=>t.dialogNode===e)}_handleOpenFromEvent(e){const t=e.detail;t&&this.openDialog(t.type,t.controlledDialogId,t.focusAfterClose,t.focusAfterOpen)}_addDialogEventListeners(){this.handleEscape=this._handleEscape.bind(this),this.handleClose=this._handleCloseButton.bind(this),document.addEventListener("keyup",this.handleEscape),document.addEventListener("click",this.handleClose)}_removeDialogEventListeners(){document.removeEventListener("keyup",this.handleEscape),document.removeEventListener("click",this.handleClose)}_handleEscape(e){e.keyCode===d.ESC&&this.closeDialogFromOutside()&&e.stopPropagation()}_handleCloseButton(e){e.preventDefault(),(null!==e.target.getAttribute("data-dismiss")||null!==e.target.parentNode.getAttribute("data-dismiss"))&&this.closeDialogFromOutside()&&e.stopPropagation()}_createDialog(e,t,s,i){let o,n;const a=s||document.activeElement;return"panel"===e?(o=new r(this,t,a,i),n=o.init()):(o=new h(this,t,a,i),n=o.init()),this.dialogsStack.push(o),n}_getCurrentDialog(){if(this.dialogsStack.length)return this.dialogsStack[this.dialogsStack.length-1]}_destroyCurrentDialog(){return!!this._getCurrentDialog().destroy()&&(this.dialogsStack.pop(),!0)}_bringCurrentDialogToTop(){this._getCurrentDialog().bringOnTop()}_bringCurrentDialogDown(){this._getCurrentDialog().bringDown()}_createAlert(e,t){t&&"false"!==t&&(this.alert||(this.alert=document.createElement("div"),this.alert.className="b-dialog_alert",this.alert.setAttribute("role","alert")),this.alert.textContent=t,e.dialogNode.appendChild(this.alert),clearTimeout(this.alertTimout),this.alertTimout=setTimeout(()=>{this.alert&&e.dialogNode.removeChild(this.alert),this.alert=null},2e3))}static validateDialogStructure(e){const t=["dialog","alertdialog"];if(!(e.getAttribute("role")||"").trim().split(/\s+/g).some(e=>t.some(t=>e===t)))throw new Error('Dialog() requires a DOM element with ARIA role of "dialog" or "alertdialog".')}}],["DialogButton",class{constructor(e,t){this.button=e,this.dialogManager=t.DialogManager,this.type=this.button.getAttribute("data-dialog-type"),this.controlledDialogId=this.button.getAttribute("aria-controls"),this.focusAfterOpen=this.button.getAttribute("data-focus-in-modal")}init(){this.addEventListeners()}addEventListeners(){null!==this.controlledDialogId&&(this.openDialog=this.openDialog.bind(this),this.button.addEventListener("click",this.openDialog))}openDialog(e){e.preventDefault();const t={type:this.type||"dialog",controlledDialogId:this.controlledDialogId,focusAfterClose:this.button,focusAfterOpen:this.focusAfterOpen};this.button.dispatchEvent(new CustomEvent("dialogManager:open",{bubbles:!0,detail:t}))}destroy(){this.button.removeEventListener("click",this.openDialog)}}],["Tabs",T],["Accordion",w],["Expand",class{constructor(e){this.button=e,this.isOpen=!1,this.keyCode=A}init(){this.controledElement=document.getElementById(this.button.getAttribute("aria-controls")),this.controledElement&&(this.addEventListeners(),this.initState())}destroy(){this.removeEventListeners(),this.destroyState()}addEventListeners(){this.handleClick=this.handleClick.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.handleKeyup=this.handleKeyup.bind(this),this.button.addEventListener("click",this.handleClick),this.button.addEventListener("keydown",this.handleKeydown),this.button.addEventListener("keyup",this.handleKeyup)}removeEventListeners(){this.button.removeEventListener("click",this.handleClick),this.button.removeEventListener("keydown",this.handleKeydown),this.button.removeEventListener("keyup",this.handleKeyup)}initState(){this.isOpen=!("true"===this.button.getAttribute("aria-expanded")),this.toggle()}destroyState(){this.button.removeAttribute("aria-expanded"),this.controledElement.removeAttribute("aria-hidden")}handleClick(e){e.preventDefault(),this.toggle()}toggle(){this.isOpen?this.close():this.open()}open(){this.button.setAttribute("aria-expanded","true"),this.controledElement.setAttribute("aria-hidden","false"),this.isOpen=!0,this.button.dispatchEvent(new Event("toggle:open"))}close(){this.button.setAttribute("aria-expanded","false"),this.controledElement.setAttribute("aria-hidden","true"),this.isOpen=!1,this.button.dispatchEvent(new Event("toggle:close"))}handleKeydown(e){let t=!1;switch(e.keyCode){case this.keyCode.SPACE:case this.keyCode.RETURN:this.handleClick(e),t=!0}t&&(e.stopPropagation(),e.preventDefault())}handleKeyup(e){const t=e.keyCode;t!==this.keyCode.SPACE&&t!==this.keyCode.RETURN||e.preventDefault()}}]]}]]);